<!-- Licensed under a BSD license. See license.html for license -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minesweeper 3D</title>
    <link href="resources/style.css" rel="stylesheet">
</head>

<body>
    <div>
        <h2 class="flex items-center justify-center text-2xl font-semibold mb-8 sm:text-6xl">Minesweeper 3D</h2>
        <div class="flex flex-col min-[1650px]:flex-row items-center justify-center">
            <canvas id="canvas" width="1280" height="720" class="bg-cyan-200"></canvas>
            <div class="pl-6 pt-6 flex flex-row min-[1650px]:flex-col">
                <div class="pb-6 pl-6">
                    <p class="font-semibold text-3xl">Scoreboard</p>
                    <p class="text-1xl ">
                        Mines remaining:
                        <span id="minesRemaining" class="text-2xl">-</span>
                    </p>
                    <p class="text-1xl ">
                        Time elapsed:
                        <span id="timeElapsed" class="text-2xl">--:--</span>
                    </p>

                </div>
                <div class="pb-6 pl-6">
                    <p class="font-semibold text-3xl pb-3">Options</p>

                    <label class="toggle_label">
                        <input id="debugToggle" type="checkbox" value="" class="sr-only peer">
                        <div class="toggle_div peer peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white"></div>
                        <span class="toggle_span">Debug model</span>
                    </label>
                    <br>

                    <label class="toggle_label">
                        <input id="syncLightToggle" type="checkbox" value="" class="sr-only peer" checked="checked">
                        <div class="toggle_div peer peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white"></div>
                        <span class="toggle_span">Sync light source with camera</span>
                    </label>
                    <br>

                    <label class="toggle_label">
                        <input id="enableAxesToggle" type="checkbox" value="" class="sr-only peer">
                        <div class="toggle_div peer peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white"></div>
                        <span class="toggle_span">Show axes</span>
                    </label>
                    <br>

                    <label class="toggle_label">
                        <input id="enableTransparencyToggle" type="checkbox" value="" class="sr-only peer" checked="checked">
                        <div class="toggle_div peer peer-checked:bg-blue-600 peer-checked:after:translate-x-full peer-checked:after:border-white"></div>
                        <span class="toggle_span">Transparency</span>
                    </label>
                    <br>

                </div>
                <div class="pb-6 pl-6">
                    <p class="font-semibold text-3xl pb-3">Startup Settings</p>
                    <p>
                        Cube size:
                        <output>3</output>
                        <input id="cubeSizeRange" type="range" value="3" min="3" max="7" step="2" oninput="this.previousElementSibling.value = this.value" class="w-full h-1 mb-6 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    </p>
                    <p>
                        Number of bombs:
                        <output>5</output>
                        <input id="numBombsRange" type="range" value="5" min="1" max="20" step="1" oninput="this.previousElementSibling.value = this.value" class="w-full h-1 mb-6 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
                    </p>
                    <button onclick="window.location.reload();" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Reset</button>
                    <button onclick="location.href='../doc/index.html';" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">Documentation</button>
                </div>
            </div>
        </div>
        <div class="items-center justify-center flex flex-col pt-6 pb-6">
            <p class="font-semibold text-3xl pb-3">Controls</p>
            <div class="flex flex-row pt-6">
                <img src="resources/images/keyboardControls.png" alt="Keyboard controls" class="pl-6" />
                <img src="resources/images/mouseControls.png" alt="Mouse controls" class="pl-6" />
                <img src="resources/images/touchControls.png" alt="Touch controls" class="pl-6" />
            </div>
        </div>
    </div>
</body>

<script>
    var debug = false;
    var syncLight = true;

    document
        .getElementById('debugToggle')
        .addEventListener('change', (event) => {
            if (event.currentTarget.checked) {
                debug = true;
            } else {
                debug = false;
            }
        })

    document
        .getElementById('syncLightToggle')
        .addEventListener('change', (event) => {
            if (event.currentTarget.checked) {
                syncLight = true;
            } else {
                syncLight = false;
            }
        })

</script>

<script src="./resources/js/lessonLibs/m4.js"></script>
<script src="./resources/js/lessonLibs/webgl-utils.js"></script>
<script type="module" src="./resources/js/main.js"></script>

</html>
